{"ast":null,"code":"import _regeneratorRuntime from\"D:/Kapil D/Personal/DecentralizedDeliveries/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Kapil D/Personal/DecentralizedDeliveries/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useRef}from'react';import useEth from\"../contexts/EthContext/useEth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProclaimDelivery=function ProclaimDelivery(){var _useEth=useEth(),_useEth$state=_useEth.state,contract=_useEth$state.contract,accounts=_useEth$state.accounts;var deliveryHash=useRef('');var proclaimDelivery=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var hash;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:hash=deliveryHash.current.value;if(!(hash==='')){_context.next=4;break;}alert('Please enter the delivery key');return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return contract.methods.allegeDelivery(hash).send({from:accounts[0]}).then(function(response){console.log(response);});case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](4);alert(\"Invalid delivery key.\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[4,9]]);}));return function proclaimDelivery(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Proclaim your delivery\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Correct delivery hash\",ref:deliveryHash}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:proclaimDelivery,children:\"Proclaim Delivery\"})]});};export default ProclaimDelivery;","map":{"version":3,"names":["React","useRef","useEth","ProclaimDelivery","state","contract","accounts","deliveryHash","proclaimDelivery","hash","current","value","alert","methods","allegeDelivery","send","from","then","response","console","log"],"sources":["D:/Kapil D/Personal/DecentralizedDeliveries/client/src/components/ProclaimDelivery.jsx"],"sourcesContent":["import React, {useRef} from 'react'\r\nimport useEth from \"../contexts/EthContext/useEth\";\r\n\r\nconst ProclaimDelivery = () => {\r\n  \r\n    const { state: { contract, accounts } } = useEth();\r\n    const deliveryHash = useRef('');\r\n\r\n    const proclaimDelivery = async () => {\r\n      const hash = deliveryHash.current.value;\r\n      if(hash === '') {\r\n        alert('Please enter the delivery key');\r\n        return;\r\n      }\r\n      try {\r\n        await contract.methods.allegeDelivery(hash).send({from: accounts[0]}).then((response) => {\r\n          console.log(response)\r\n        })\r\n      } catch(err) {\r\n        alert(\"Invalid delivery key.\")\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div>\r\n        <h1>Proclaim your delivery</h1>\r\n        <input type=\"text\" placeholder='Correct delivery hash' ref={deliveryHash} /><br />\r\n        <button onClick={proclaimDelivery}>Proclaim Delivery</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProclaimDelivery"],"mappings":"gSAAA,MAAOA,MAAP,EAAeC,MAAf,KAA4B,OAA5B,CACA,MAAOC,OAAP,KAAmB,+BAAnB,C,wFAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAE3B,YAA0CD,MAAM,EAAhD,uBAAQE,KAAR,CAAiBC,QAAjB,eAAiBA,QAAjB,CAA2BC,QAA3B,eAA2BA,QAA3B,CACA,GAAMC,aAAY,CAAGN,MAAM,CAAC,EAAD,CAA3B,CAEA,GAAMO,iBAAgB,4FAAG,8IACjBC,IADiB,CACVF,YAAY,CAACG,OAAb,CAAqBC,KADX,MAEpBF,IAAI,GAAK,EAFW,0BAGrBG,KAAK,CAAC,+BAAD,CAAL,CAHqB,8EAOfP,SAAQ,CAACQ,OAAT,CAAiBC,cAAjB,CAAgCL,IAAhC,EAAsCM,IAAtC,CAA2C,CAACC,IAAI,CAAEV,QAAQ,CAAC,CAAD,CAAf,CAA3C,EAAgEW,IAAhE,CAAqE,SAACC,QAAD,CAAc,CACvFC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACD,CAFK,CAPe,uFAWrBN,KAAK,CAAC,uBAAD,CAAL,CAXqB,oEAAH,kBAAhBJ,iBAAgB,0CAAtB,CAeF,mBACE,oCACI,8CADJ,cAEI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,uBAA/B,CAAuD,GAAG,CAAED,YAA5D,EAFJ,cAEgF,aAFhF,cAGI,eAAQ,OAAO,CAAEC,gBAAjB,+BAHJ,GADF,CAOD,CA3BD,CA6BA,cAAeL,iBAAf"},"metadata":{},"sourceType":"module"}