{"ast":null,"code":"import _regeneratorRuntime from\"D:/Kapil D/Personal/DecentralizedDeliveries/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Kapil D/Personal/DecentralizedDeliveries/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Kapil D/Personal/DecentralizedDeliveries/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import useEth from\"../contexts/EthContext/useEth\";import Axios from'axios';import\"../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";require('dotenv').config();var serverUrl=window.location.protocol+\"//\"+window.location.host+'/deliveries/';var userAddress=null;var listeningToAllegeEvent=false;var listeningToAcceptEvent=false;var RequestDelivery=function RequestDelivery(_ref){var setMining=_ref.setMining;var _useEth=useEth(),_useEth$state=_useEth.state,contract=_useEth$state.contract,accounts=_useEth$state.accounts;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),requests=_useState2[0],setRequests=_useState2[1];function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+exdays*24*60*60*1000);var expires=\"expires=\"+d.toUTCString();document.cookie=cname+\"=\"+cvalue+\";\"+expires+\";path=/\";}function getCookie(cname){var name=cname+\"=\";var decodedCookie=decodeURIComponent(document.cookie);var ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}return\"\";}useEffect(function(){if(accounts!=null){userAddress=accounts[0];}if(userAddress!=null){Axios.get(serverUrl+'address/'+userAddress).then(function(response){setRequests(response.data);setCookie(\"requests\",JSON.stringify(response.data),7);});}},[contract]);function getRequests(){Axios.get(serverUrl+'address/'+userAddress).then(function(response){setRequests(response.data);setCookie(\"requests\",JSON.stringify(response.data),7);});}var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),to=_useState4[0],setTo=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),from=_useState6[0],setFrom=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),item=_useState8[0],setItem=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),value=_useState10[0],setValue=_useState10[1];window.allegeEvent=null;// starting listener for Accept Event.\nif(contract!=null&&!listeningToAcceptEvent){window.acceptEvent=contract.events.AcceptEvent().on(\"data\",function(log){handleAccept(log);});listeningToAcceptEvent=true;}// starting listener for Allege Event.\nif(contract!=null&&!listeningToAllegeEvent){window.allegeEvent=contract.events.AllegeEvent().on(\"data\",function(log){handleAllege(log);});listeningToAllegeEvent=true;}var handleInput=function handleInput(e){switch(e.target.name){case'to':setTo(e.target.value);break;case'from':setFrom(e.target.value);break;case'item':setItem(e.target.value);break;case'value':setValue(e.target.value);break;default:alert('Invalid input source.');break;}};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(to===null||from===null||item===null||value===0)){_context.next=3;break;}alert(\"Please fill in all the values.\");return _context.abrupt(\"return\");case 3:// Calling Contract if validation succeeds: \n// Showing shadowLayer:\nsetMining(true);_context.prev=4;_context.next=7;return contract.methods.requestDelivery(to,from,item).send({from:accounts[0],value:value}).then(function(response){getRequests();console.log(response);});case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](4);console.log(_context.t0);case 12:setMining(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[4,9]]);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();window.handleConfirm=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(index){var requestId;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:requestId=requests[index]._id;setMining(true);_context2.prev=2;_context2.next=5;return contract.methods.confirm(requestId).send({from:accounts[0]}).then(function(response){getRequests();console.log(response);});case 5:_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](2);console.log(_context2.t0);case 10:setMining(false);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[2,7]]);}));return function(_x){return _ref3.apply(this,arguments);};}();var handleAccept=function handleAccept(log){var requestId=log.returnValues.requestId;var tempRequests=JSON.parse(getCookie(\"requests\"));tempRequests.forEach(function(request,index){if(request._id==requestId){tempRequests[index].status=1;tempRequests[index].deliveryMan=log.returnValues.deliveryMan;setRequests(tempRequests);return;}});};var handleAllege=function handleAllege(log){var requestId=log.returnValues.requestId;var tempRequests=JSON.parse(getCookie(\"requests\"));tempRequests.forEach(function(request,index){if(request._id==requestId){tempRequests[index].status=2;setRequests(tempRequests);return;}});};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",height:\"100vh\",width:\"100vw\"},children:[/*#__PURE__*/_jsxs(\"div\",{id:\"wrapper\",style:{padding:\"50px\",height:\"100vh\",width:\"50vw\",overflow:\"auto\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Decentralized Deliveries\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"align-center\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:\"50px\"},children:\"Request a Delivery\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"form-input-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"item\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"item\",children:\"Pick this up: \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"to\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"to\",children:\"Delivery Destination: \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"from\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"from\",children:\"Pickup From: \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"value\",onChange:handleInput,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"highlight\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"value\",children:\"Attach payment(in wei): \"})]})]}),/*#__PURE__*/_jsx(\"button\",{style:{marginTop:\"30px\"},onClick:handleSubmit,children:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"align-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Orders\"}),/*#__PURE__*/_jsxs(\"table\",{id:\"deliveries\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Index\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"th\",{children:\"From\"}),/*#__PURE__*/_jsx(\"th\",{children:\"To\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:requests!=null?requests.map(function(request,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:request.item}),/*#__PURE__*/_jsx(\"td\",{children:request.from}),/*#__PURE__*/_jsx(\"td\",{children:request.to}),/*#__PURE__*/_jsx(\"td\",{children:request.status==\"0\"?\"Requested\":request.status=='1'?\"on the way\":request.status=='2'?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return window.handleConfirm(index);},children:\"Confirm\"}):\"Completed.\"})]});}):\"You have not requestsed anything yet.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{height:\"100vh\",width:\"50vw\",overflow:\"hidden\",position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../homePageImg.jpg\",alt:\"\",style:{height:\"100%\",width:\"auto\"}}),/*#__PURE__*/_jsxs(\"p\",{className:\"credit\",children:[\"Photo by \",/*#__PURE__*/_jsx(\"a\",{href:\"https://unsplash.com/@anniespratt?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\",children:\"Annie Spratt\"}),\" on \",/*#__PURE__*/_jsx(\"a\",{href:\"https://unsplash.com/s/photos/basket?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\",children:\"Unsplash\"})]})]})]});};export default RequestDelivery;","map":{"version":3,"names":["React","useState","useEffect","useEth","Axios","require","config","serverUrl","window","location","protocol","host","userAddress","listeningToAllegeEvent","listeningToAcceptEvent","RequestDelivery","setMining","state","contract","accounts","requests","setRequests","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","decodedCookie","decodeURIComponent","ca","split","i","length","c","charAt","substring","indexOf","get","then","response","data","JSON","stringify","getRequests","to","setTo","from","setFrom","item","setItem","value","setValue","allegeEvent","acceptEvent","events","AcceptEvent","on","log","handleAccept","AllegeEvent","handleAllege","handleInput","e","target","alert","handleSubmit","methods","requestDelivery","send","console","handleConfirm","index","requestId","_id","confirm","returnValues","tempRequests","parse","forEach","request","status","deliveryMan","display","justifyContent","height","width","padding","overflow","marginTop","map","position"],"sources":["D:/Kapil D/Personal/DecentralizedDeliveries/client/src/components/RequestDelivery.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport useEth from \"../contexts/EthContext/useEth\";\r\nimport Axios from 'axios'\r\nimport \"../App.css\"\r\nrequire('dotenv').config()\r\n\r\n\r\nconst serverUrl = window.location.protocol + \"//\" + window.location.host + '/deliveries/'\r\nlet userAddress = null;\r\n\r\nlet listeningToAllegeEvent = false;\r\nlet listeningToAcceptEvent = false;\r\n\r\nconst RequestDelivery = ({ setMining }) => {\r\n  const { state: { contract, accounts } } = useEth();\r\n  const [requests, setRequests] = useState([])\r\n\r\n  function setCookie(cname, cvalue, exdays) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    let expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\n  function getCookie(cname) {\r\n    let name = cname + \"=\";\r\n    let decodedCookie = decodeURIComponent(document.cookie);\r\n    let ca = decodedCookie.split(';');\r\n    for(let i = 0; i <ca.length; i++) {\r\n      let c = ca[i];\r\n      while (c.charAt(0) == ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) == 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(accounts != null) {\r\n      userAddress = accounts[0]\r\n    }\r\n    if(userAddress != null) {\r\n      Axios.get(serverUrl+'address/' + userAddress).then(response => {\r\n        setRequests(response.data)\r\n        setCookie(\"requests\", JSON.stringify(response.data), 7)\r\n      })\r\n    }\r\n  }, [contract])\r\n\r\n  function getRequests() {\r\n    Axios.get(serverUrl+'address/' + userAddress).then(response => {\r\n      setRequests(response.data)\r\n      setCookie(\"requests\", JSON.stringify(response.data), 7)\r\n    })\r\n  }\r\n\r\n\r\n  const [to, setTo] = useState(null)\r\n  const [from, setFrom] = useState(null)\r\n  const [item, setItem] = useState(null)\r\n  const [value, setValue] = useState(0)\r\n  window.allegeEvent = null;\r\n\r\n\r\n  // starting listener for Accept Event.\r\n  if (contract != null && !listeningToAcceptEvent) {\r\n    window.acceptEvent = contract.events.AcceptEvent()\r\n    .on(\"data\", function(log) {\r\n      handleAccept(log);\r\n    })\r\n    listeningToAcceptEvent = true;\r\n  }\r\n\r\n  // starting listener for Allege Event.\r\n  if (contract != null && !listeningToAllegeEvent) {\r\n    window.allegeEvent = contract.events.AllegeEvent()\r\n    .on(\"data\", function(log) {\r\n      handleAllege(log);\r\n    })\r\n    listeningToAllegeEvent = true;\r\n  }\r\n\r\n  const handleInput = e => {\r\n    switch(e.target.name) {\r\n        case 'to': \r\n            setTo(e.target.value);\r\n            break;\r\n        case 'from':\r\n            setFrom(e.target.value);\r\n            break;\r\n        case 'item': \r\n            setItem(e.target.value);\r\n            break;\r\n        case 'value': \r\n            setValue(e.target.value);\r\n            break;\r\n        default: \r\n            alert('Invalid input source.')\r\n            break;\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    // Validation: \r\n    if (to === null || from === null || item === null || value === 0) {\r\n        alert(\"Please fill in all the values.\")\r\n        return;\r\n    }\r\n\r\n    // Calling Contract if validation succeeds: \r\n    // Showing shadowLayer:\r\n    setMining(true)\r\n    try {\r\n      await contract.methods.requestDelivery(to, from, item).send({from: accounts[0], value: value}).then((response) => {\r\n        getRequests()\r\n        console.log(response)\r\n      })\r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n    setMining(false)\r\n  }\r\n\r\n  window.handleConfirm = async (index) => {\r\n    let requestId = requests[index]._id\r\n    setMining(true)\r\n    try {\r\n      await contract.methods.confirm(requestId).send({from: accounts[0]}).then((response) => {\r\n        getRequests()\r\n        console.log(response)\r\n      })\r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n    setMining(false)\r\n  }\r\n\r\n  const handleAccept = (log) => {\r\n    let requestId = log.returnValues.requestId\r\n    let tempRequests = JSON.parse(getCookie(\"requests\"))\r\n    tempRequests.forEach((request, index) => {\r\n      if (request._id == requestId) {\r\n        tempRequests[index].status = 1\r\n        tempRequests[index].deliveryMan = log.returnValues.deliveryMan\r\n        setRequests(tempRequests)\r\n        return;\r\n      }\r\n    }) \r\n  }\r\n\r\n  const handleAllege = (log) => {\r\n    let requestId = log.returnValues.requestId\r\n    let tempRequests = JSON.parse(getCookie(\"requests\"))\r\n    tempRequests.forEach((request, index) => {\r\n      if (request._id == requestId) {\r\n        tempRequests[index].status = 2\r\n        setRequests(tempRequests)\r\n        return;\r\n      }\r\n    }) \r\n  }\r\n\r\n  return (\r\n    <div style={{display: \"flex\", justifyContent: \"space-between\", height: \"100vh\", width: \"100vw\"}}>\r\n    <div id='wrapper' style={{padding: \"50px\", height: \"100vh\", width: \"50vw\", overflow: \"auto\"}}>\r\n      <h1>Welcome to Decentralized Deliveries</h1>\r\n      <div className='align-center'>\r\n        <h2 style={{marginTop: \"50px\"}}>Request a Delivery</h2>\r\n        <div id='form-input-wrapper'>\r\n\r\n          <div className='group'>\r\n            <input type=\"text\" name='item' onChange={handleInput} required />\r\n            <span className=\"highlight\"></span>\r\n            <span className=\"bar\"></span>\r\n            <label htmlFor=\"item\">Pick this up: </label>\r\n          </div>\r\n\r\n          <div className='group'>\r\n            <input type=\"text\" name='to' onChange={handleInput} required />\r\n            <span className=\"highlight\"></span>\r\n            <span className=\"bar\"></span>\r\n            <label htmlFor=\"to\">Delivery Destination: </label>\r\n          </div>\r\n      \r\n          <div className='group'>\r\n            <input type=\"text\" name='from' onChange={handleInput} required />\r\n            <span className=\"highlight\"></span>\r\n            <span className=\"bar\"></span>\r\n            <label htmlFor=\"from\">Pickup From: </label>\r\n          </div>\r\n    \r\n          <div className='group'>\r\n            <input type=\"number\" name='value' onChange={handleInput} required />\r\n            <span className=\"highlight\"></span>\r\n            <span className=\"bar\"></span>\r\n            <label htmlFor=\"value\">Attach payment(in wei): </label>\r\n          </div>\r\n\r\n        </div>\r\n        <button style={{marginTop: \"30px\"}} onClick={handleSubmit}>Submit</button>\r\n      </div>\r\n\r\n      <div className='align-center'>\r\n        <h2>Your Orders</h2>\r\n        <table id='deliveries'>\r\n          <thead>\r\n            <tr>\r\n              <th>Index</th>\r\n              <th>Item</th>\r\n              <th>From</th>\r\n              <th>To</th>\r\n              <th>Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {requests != null ? requests.map((request, index) => {\r\n              return (\r\n                <tr>\r\n                  <td>{index+1}</td>\r\n                  <td>{request.item}</td>\r\n                  <td>{request.from}</td>\r\n                  <td>{request.to}</td>\r\n                  <td>{request.status == \"0\" ? \"Requested\" : request.status == '1' ? \"on the way\" : request.status == '2' ? <button onClick={() => window.handleConfirm(index)}>Confirm</button> : \"Completed.\"}</td>\r\n              </tr>\r\n              )\r\n            }): \"You have not requestsed anything yet.\"}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div  style={{height: \"100vh\", width: \"50vw\", overflow: \"hidden\", position: 'relative'}}>\r\n      <img src=\"../../homePageImg.jpg\" alt=\"\" style={{height: \"100%\", width: \"auto\"}} />\r\n      <p className=\"credit\">Photo by <a href=\"https://unsplash.com/@anniespratt?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Annie Spratt</a> on <a href=\"https://unsplash.com/s/photos/basket?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash</a></p>\r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RequestDelivery"],"mappings":"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"},"metadata":{},"sourceType":"module"}